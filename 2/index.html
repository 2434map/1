<!DOCTYPE html>
<html><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
<script src="config.js"></script>
<link rel="stylesheet" type="text/css" href="style.css">
<link rel="shortcut icon" href="images/favicon.ico" type="image/vnd.microsoft.icon">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-145408095-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-145408095-1');
</script>
<title>にじさんじサーバ通常地図</title>
</head><body>
<nav>
<ul>
<li class="current"><a href="./">通常地図</a></li>
<li><a href="./all2.html#zoom=19.92753623188406&x=0.8067259594949632&y=0.6080154476736246">全体地図</a></li>
<li><a href="Nether.html">ネザー地図</a></li>
<li><a href="New.html">新規ワールド</a></li>
<li><a href="New_Nether.html">新規ワールドネザー</a></li>
</ul>
<img src="images/center.gif">
</nav>
<main id="main"></main>
<script type="text/javascript">

	var vh = 6400;
	var vw = 9067;

	var viewer = OpenSeadragon({
		id: "main", 
		prefixUrl: "images/", 
		showNavigator: true, 
		tileSources: {
			Image: {
				xmlns:    "http://schemas.microsoft.com/deepzoom/2008",
				Url:      "tiles/",
				Format:   "jpg", 
				Overlap:  1, 
				TileSize: 256,
				Size: {
					Height: vh,
					Width:  vw
				}
			}
		}
	});
	viewer.bookmarkUrl();// 座標URL
	viewer.stalkerImage();// アニメーションポインター
	viewer.markerLink('marker.csv', vw);// CSVマーカー

	// 変化検知
	var imagingHelper = viewer.activateImagingHelper({onImageViewChanged: onImageViewChanged});
//alert(viewer.imagingHelper.getZoomFactor());

	viewer.addHandler('open', function(){
					$("a.marker").css('display','block');
					$("a.marker").css('width','32px');
					$("a.marker").css('height','32px');
	});


	function onImageViewChanged(event) {
		//alert(self.imagingHelper.getZoomFactor());

		if(viewer.imagingHelper.getZoomFactor() > 0.5){
			if($('.markerOn').length){
					$("a.marker").css('display','block');
					$("a.marker").css('width','32px');
					$("a.marker").css('height','32px');
			}
		} else {
			$("a.marker").css('display','none');
		}


	}

</script>
</body>
</html>